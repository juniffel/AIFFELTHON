# ❤ 시계열 데이터를 통해 미래를 예측 해보자!
 
## 🧡 데이터를  통해 미래예측은 불가능하다, 하지만 안정적(과거의 데이터에서 일정한 패턴이 있고 미래에도 동일하게 일어날것이다 == 시계열의 통계적 특성이 변하지 않는다.(stationary))이라는 전제하에 미래 예측이 가능하다.

## 💛 안정적인 시계열에서 시간의 추이와 상관없이 일정해야하는것

    - 평균, 분산, 공분산 -> 과거의 패턴이 시간의 추이t에 상관없이 미래에도 일정한 평균,분산을 보여야 안정적이라 볼수 있기 때문 

## 💚 공분산(Covariance)과 상관계수(Correlation)

    - 공분산 : 확률변수 x,y의 관계 
    - 상관계수 : 공분산 normalize
 
    - 두 확률변수 x,y가 
        - 독립적이면 공분산 ,상관계수 = 0
        - 선형관계면 공분산 > 0 or 공분산 < 0 , 상관계수 = 1 or -1

## 📌 parse_date
    - df = pd.read_csv(dataset_filepath, index_col='Date', parse_dates=True)
    - 날짜를 형식을 맞춰 자동매칭 시켜줌


## 📌 보간 : 시계열 데이터에서 결측치를 앞뒤 데이터의 시간 또는 값을 근거로 평균치를 채워줌
    - ts1=ts1.interpolate(method='time')
    - 앞뒤 데이터를 이용한 결측치 처리 

## 💙 안정성을 체크하는 통계적 방법 : Augmented Dickey-Fuller Test(ADF Test)

    - 귀무가설 : 주어진 시계열 데이터가 안정적이지 않다
    - 대립가설 : 이 시계열 데이터가 안정적이다

    - 귀무가설(데이터가 안정적이지 않다 라는 전제)을 세운후 통계적 검증을 통해 귀무가설이 기각될 경우 대립가설(데이터가 안정적이다.)을 채택하는 방법
    
    - p-value : 귀무가설이 참이라고 가정했을 때, 표본으로 얻어지는 통계치(예: 표본 평균)가 나타날 확률" 
    
    - p값이 낮다는 것은 귀무가설이 참이라는 가정 하에서 표본을 추출했을 때, 이런 표본 평균이 관측될 확률이 낮다는 것을 뜻합니다. 즉 p 값이 매우 낮으면, 이러한 표본 통계량은 우연히 나타나기 어려운 케이스이기 때문에, 우리는 귀무가설을 채택하지 않고(기각하고), 대안적인 가설, 즉 대립가설을 채택하게 됩니다.
     
    - p-value가 낮다 -> 귀무가설을 기각하고 대립가설을 채택한다. -> 안정적이다.
     
    - statsmodels의 adfuller사용


## 💜 시계열 데이터를 안정적으로 만드는 방법

    - 정성적 분석을통해 기존의 시계열을 가공 변형 하여 안정적으로 만듬.
    
        - log변환
        - Moving average 제거 - 추세(Trend) 상쇄하기
        - 차분(Differencing) - 계절성(Seasonality) 상쇄하기
    
    
    - 시계열 분해 기법을 적용
    
        - seasonal_decompose메서드 사용 추세(trend),계절성(seasonal),추세,계절성을 제거한 데이터(residual), 원본 (original)
    
## 🤎 ARIMA
    
    - AR(횡보를한다)+I(차분)+MA(추세를 따른다)    
    
    - 모수 p,q,d
    
    - p : AR 시차 
    
    - q : ma 시차
    
    - d : 차분 누적 횟수
    
    - p*q = 0, p+q<2
    
    -p,q결정
    
    - ACF를 통해 AR을 결정

    - PACF를 통해 MA를 결정